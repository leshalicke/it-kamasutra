"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[29],{5029:function(e,s,t){t.r(s),t.d(s,{default:function(){return V}});var i=t(8683),r=t(5671),n=t(3144),o=t(136),l=t(2882),a=t(2791),u="Profile_profile__vDrrL",c=t(885),d=t(2163),h="ProfileInfo_descBlock__+id8Q",f="ProfileInfo_contact__NOhqZ",p="ProfileInfo_formSummaryError__i7K3p",x=t(9645),j=t(184),v=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),i=t[0],r=t[1],n=(0,a.useState)(e.status),o=(0,c.Z)(n,2),l=o[0],u=o[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("div",{children:[!i&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status:"}),(0,j.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"----"})]}),i&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(l)},value:l})})]})},m=t(704),b=t(2781),g=(0,m.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var s=e.handleSubmit,t=e.profile,i=e.error;return(0,j.jsxs)("form",{onSubmit:s,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"save"})}),i&&(0,j.jsx)("div",{className:p,children:i}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),": ",(0,b.Gr)("Full name","fullname",[],b.II)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Loocking for a job"}),":  ",(0,b.Gr)("","lookingForAJob",[],b.II,{type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills"}),": ",(0,b.Gr)("My profession skills","lookingForAJobDescription",[],b.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me"}),": ",(0,b.Gr)("About me","aboutMe",[],b.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return(0,j.jsx)("div",{className:f,children:(0,j.jsxs)("b",{children:[e,":",(0,b.Gr)(e,"contacts."+e,[],b.II)]})},e)}))]})]})})),P=function(e){var s=e.profile,t=e.isOwner,i=e.goToEditMode;return(0,j.jsxs)("div",{children:[t&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:i,children:"edit"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Loocking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return(0,j.jsx)(k,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},k=function(e){var s=e.contactTitle,t=e.contactValue;return(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("b",{children:s}),": ",t]})},_=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),i=t[0],r=t[1];if(!e.profile)return(0,j.jsx)(d.Z,{});return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("img",{src:e.profile.photos.large||x}),e.isOwner&&(0,j.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}}),i?(0,j.jsx)(g,{initialValues:e.profile,profile:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){r(!1)}))}}):(0,j.jsx)(P,{goToEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner}),(0,j.jsx)(v,{status:e.status,updateStatus:e.updateStatus})]})})},S=t(8687),y=t(6868),I="MyPosts_postsBlock__LVwGo",Z="MyPosts_posts__kTilN",w="Post_item__ghaau",A=function(e){return(0,j.jsxs)("div",{className:w,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:"https://thumbs.dreamstime.com/b/happy-smiling-geek-hipster-beard-man-cool-avatar-geek-man-avatar-104871313.jpg"}),e.message]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"like"})," ",e.like]})]})},N=t(6139),O=t(5304),C=(0,O.D)(10),M=(0,m.Z)({form:"ProfileAddPostForm"})((function(e){return(0,j.jsx)("form",{onSubmit:e.handleSubmit,children:(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)(N.Z,{component:b.gx,name:"newPostText",placeholder:"Enter your Post",validate:[O.C,C]})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})})),F=a.memo((function(e){var s=e.posts.map((function(e){return(0,j.jsx)(A,{message:e.message,like:e.like},e.id)}));return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:I,children:(0,j.jsx)("h3",{children:"My post"})}),(0,j.jsx)(M,{onSubmit:function(s){e.onAddPost(s.newPostText)}}),(0,j.jsx)("div",{className:Z,children:s})]})})),T=(0,S.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{onAddPost:function(s){e((0,y.Wl)(s))}}}))(F),D=function(e){return(0,j.jsx)("div",{className:u,children:(0,j.jsxs)("div",{children:[(0,j.jsx)(_,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,j.jsx)(T,{})]})})},U=t(1419),G=t(7781),J=t(6871),E=function(e){return function(s){var t=(0,J.UO)();return(0,j.jsx)(e,(0,i.Z)((0,i.Z)({},s),{},{params:t}))}},L=function(e){(0,o.Z)(t,e);var s=(0,l.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var e,s,t=null!==(e=this.props.params)&&void 0!==e&&e.userId?null===(s=this.props.params)||void 0===s?void 0:s.userId:this.props.authorizedUserId;this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){var t,i;(null===(t=this.props.params)||void 0===t?void 0:t.userId)!=(null===(i=e.params)||void 0===i?void 0:i.userId)&&this.refreshProfile()}},{key:"render",value:function(){var e;return(0,j.jsx)(D,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!(null!==(e=this.props.params)&&void 0!==e&&e.userId),savePhoto:this.props.savePhoto}))}}]),t}(a.Component),V=(0,G.qC)((0,S.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:y.et,getStatus:y.lR,updateStatus:y.Nf,savePhoto:y.Ju,saveProfile:y.Ii}),U.I,E)(L)}}]);
//# sourceMappingURL=29.1ddf4e9d.chunk.js.map